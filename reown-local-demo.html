<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Reown AppKit — Local on Netlify</title>
</head>
<body style="background:#0b3; font-family:system-ui; padding:24px;">
  <h1 style="color:#fff;">Reown AppKit — локально с Netlify</h1>
  <a href="#" class="btn" data-appkit-open style="display:inline-block;background:#dc3545;color:#fff;padding:12px 16px;border-radius:8px;text-decoration:none;">Connect Wallet</a>

  <script type="module">
    const PROJECT_ID = "6d6910ef3c0da38d8c4a5cfae868e032";
    (async () => {
      const [{ createAppKit }, nets, { WagmiAdapter }] = await Promise.all([
        import('/assets/js/reown/appkit.js'),
        import('/assets/js/reown/networks.js'),
        import('/assets/js/reown/adapter-wagmi.js')
      ]);
      const { mainnet, arbitrum } = nets;
      const wagmiAdapter = new WagmiAdapter({ projectId: PROJECT_ID, networks: [mainnet, arbitrum] });
      const appkit = createAppKit({ adapters: [wagmiAdapter], projectId: PROJECT_ID, networks: [mainnet, arbitrum],
        metadata: { name: document.title, description: 'Reown AppKit (local)', url: location.origin, icons: [new URL('/favicon.ico', location).href] } });
      document.addEventListener('click', (e) => { const el=e.target.closest('[data-appkit-open]'); if (el){ e.preventDefault(); appkit.open(); } }, { passive:false });
      if (!document.querySelector('appkit-button')) { const w=document.createElement('div'); w.style.cssText='position:fixed;right:16px;bottom:16px;z-index:9999'; w.innerHTML='<appkit-button></appkit-button> <appkit-network-button></appkit-network-button>'; document.body.appendChild(w); }
    })().catch(err => { console.error('Reown init failed', err); alert('Не удалось инициализировать Reown. Проверьте, что Netlify скачал файлы в assets/js/reown.'); });
  </script>
</body>
</html>
